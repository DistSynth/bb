/*! bigbrother 18-05-2019 */

var BB={items:{},commandQueue:function(){console.log("Command Queue object created")}};BB.commandQueue.prototype={loadCmds:function(t){this.icmds=t},process:function(){var t=this;this.push(this.icmds.shift(),function(){0<t.icmds.length&&t.process()})},push:function(t,e){var n=Array.prototype.slice.call(t,1),i="BigTracker",o=t[0];void 0===window[i]&&(window[i]=new BB.tracker({globalObjectName:i})),window[i][o].apply(window[i],n),e&&"function"==typeof e&&e()}},BB.tracker=function(t){if(this.options={logPage:!0},this.setEndpoint(window.bbUrl),t)for(var e in t)this.options[e]=t[e]},BB.tracker.prototype={siteId:"",setSiteId:function(t){this.siteId=t},trackPageView:function(t){var e=new BB.event;e.set("page_url",this.getCurrentUrl()),e.setEventType("bb.page_view"),console.log(e)},getCurrentUrl:function(){return document.URL},getTrackerEndpoint:function(){return this.getEndpoint()+"tracker"},getEndpoint:function(){return this.getOption("baseUrl")},setEndpoint:function(t){this.setOption("baseUrl",t)},getOption:function(t){if(this.options.hasOwnProperty(t))return this.options[t]},setOption:function(t,e){this.options[t]=e},cdPost:function(t){var e="bbContainer",n=document.getElementById(e);if(!n){var i=document.createElement("div");i.setAttribute("id",e),document.body.appendChild(i),n=document.getElementById(e)}this.generateHiddenIframe(n,t)}},BB.event=function(){this.properties={},this.id="",this.siteId="",this.set("ts","")},BB.event.prototype={get:function(t){if(this.properties.hasOwnProperty(t))return this.properties[t]},set:function(t,e){this.properties[t]=e},setEventType:function(t){this.set("eventType",t)},getProperties:function(){return this.properties},apply:function(t){for(param in t)t.hasOwnProperty(param)&&this.set(param,t[param])},isSet:function(t){if(this.properties.hasOwnProperty(t))return!0}},function(){if(console.log("From fs"),"undefined"==typeof bbCommands)var t=new BB.commandQueue;else(t=new BB.commandQueue).loadCmds(bbCommands);window.bbCommands=t,window.bbCommands.process()}();